{% extends "base.html" %}
{% load static %}

{% block style_css %}
<style>
  .form-heading {
    background: linear-gradient(to right, #7b2cbf, #9d4edd);
    color: #fff;
    padding: 15px 25px;
    border-top-left-radius: 15px;
    border-top-right-radius: 15px;
    font-size: 18px;
    font-weight: 600;
  }

  .card {
    overflow: hidden;
  }

  th {
    text-align: center !important;
    font-size: 15px;
  }

  td {
    font-size: 14px;
  }

  /* âœ… Fresh striped row colors */
  #userTable tbody tr:nth-child(odd) {
    background-color: #f8f9ff;  /* light blue */
  }

  #userTable tbody tr:nth-child(even) {
    background-color: #f0fff8;  /* light green */
  }

  #userTable tbody tr:hover {
    background-color: #e0f0ff; /* highlight on hover */
  }

  /* Pagination style */
  .dataTables_wrapper .dataTables_paginate .paginate_button {
    padding: 4px 10px;
    margin: 2px;
    border-radius: 5px;
    border: none;
    background: #f8f9fa;
    cursor: pointer;
  }

  .dataTables_wrapper .dataTables_paginate .paginate_button.current {
    background: #9d4edd;
    color: #fff !important;
  }

  .dataTables_wrapper .dataTables_info {
    font-size: 13px;
  }

  /* Search + Dropdown styling */
  .dataTables_wrapper .dataTables_filter input {
    border-radius: 8px;
    border: 1px solid #9d4edd;
    padding: 5px 10px;
  }

  .dataTables_wrapper .dataTables_length select {
    border-radius: 8px;
    border: 1px solid #9d4edd;
    padding: 5px;
  }

   

 
</style>
{% endblock %}

{% block content %}
<div class="ma">
<div class="container  " style="margin-top: 170px; min-height: 90vh;">
  <div class="row g-4"> 
    <div class="col-12">
      <div class="card" style="border: none; box-shadow:0px 0px 10px #505050;">
        <div class="card-body">
          <div class="form-heading text-center">ðŸ“Š User Generation Info</div>

          <div class="table-responsive">
            <table id="userTable" class="table table-bordered text-center mb-0">
              <thead class="table-light">
                <tr>
                  <th>Provider</th>
                  <th>Firm</th>
                   <th>Last Updated (Generation)</th>
                </tr>
              </thead>
              <tbody>
                {% for row in client_data %}
                <tr>
                  <td>{{ row.provider }}</td>
                  <td>{{ row.firm }}</td>
                   <td>{{ row.last_modified }}</td>
                </tr>
                {% empty %}
                <tr>
                  <td colspan="4" class="text-muted">No records found.</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Bootstrap 5 DataTables CSS + JS -->
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css">
<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>

<!-- âœ… Init AFTER loading DataTables -->
<script>
$(document).ready(function() {
  $('#userTable').DataTable({
    "pageLength": 10,
    "lengthMenu": [5, 10, 25, 50, 100],
    "lengthChange": true,
    "searching": true,
    "ordering": true,
    "info": true,
    "paging": true,
    "pagingType": "simple_numbers",
    "dom": '<"top"lf>rt<"bottom"ip><"clear">'  // âœ… ensures filter + pagination show
  });
});

</script>

<div class="sp" style="position: absolute; bottom: 0px; width: 100%;"></div>
{% include 'fotter.html' %}
{% endblock %}
